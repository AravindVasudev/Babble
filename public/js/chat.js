"use strict";var socket=io(),audio=new Audio("media/chat.mp3");$("form").submit(function(){return""!==$("#type-message").val()&&(socket.emit("chat message",$("#type-message").val()),$("#type-message").val(""),!1)}),socket.on("chat message",function(s){var e="";e=s.id==$("#userid").val()?'<div class="message-me"><span class="msg">'+s.msg+'</span><span class="time noselect">'+s.time+"</span></div>":'<div class="message"><span class="username noselect">'+s.name+'</span><span class="msg">'+s.msg+'</span><span class="time noselect">'+s.time+"</span></div>",audio.play(),navigator.vibrate(100),$("#messages").append(e),$(".messages").scrollTop($(".messages").children().height())}),socket.on("join",function(s){var e="";e=s.id==$("#userid").val()?'<div class="message-bot noselect"><kbd>you joined the chatroom</kbd></div>':'<div class="message-bot noselect"><kbd>'+s.user+" has joined</kbd></div>",$("#messages").append(e),$(".messages").scrollTop($(".messages").children().height())}),socket.on("leave",function(s){var e="";e=s.id==$("#userid").val()?'<div class="message-bot noselect"><kbd>disconnected</kbd></div>':'<div class="message-bot noselect"><kbd>'+s.user+" has left</kbd></div>",$("#messages").append(e),$(".messages").scrollTop($(".messages").children().height())}),$(function(){$(".emoji").click(function(){var s=$("#type-message");s.val(""+s.val()+$(this).text()),s.focus()}),$(".emoji").contextmenu(function(){return socket.emit("chat message",'<span class="memoji">'+$(this).text()+"</span>"),!1})});